define("select",function(){function t(t){this._options=this._options||{},$.extend(this._options,d),$.extend(this._options,t),this.init()}function e(t,e){for(var n=t.data,o='<td data-name="'+(t.name||"")+'"><div class="select-ul select-ul-mask"><ul data-index="'+(t.index||0)+'">',i=0;i<n.length;i++)o+='<li data-id="'+n[i][0]+'">'+e(n[i])+"</li>";return o+="</ul></div></td>"}function n(t){switch(t.type){case"orientationchange":this.refresh();break;case"touchmove":t.preventDefault()}}function o(t,e){if(!p){var n=$("li",t).length;if(n<2)return;if(e.preventDefault(),p=t,m=Math.floor($(t.parentNode).height()/(2*b)),u=-(n-m-1)*b,v=m*b,g=new Date,event.targetTouches&&1==event.targetTouches.length){var o=event.targetTouches[0];k.starttop=o.pageY}f=l(p),$(document).on("touchmove",i).on("touchend",this.onEnd)}}function i(t){if(t.stopPropagation(),t.preventDefault(),1==event.targetTouches.length){var e=event.targetTouches[0];k.movetop=e.pageY,x=l(p),x=parseFloat(x,10),r(p,k.movetop-(k.lasttop||k.starttop)+x,0),k.lasttop=k.movetop}}function a(t,e,n){return Math.max(e,Math.min(t,n))}function s(t){var e,n,o=new Date-g,s=this,d=s._options,h=l(p),m=h;o<300?(n=(e=Math.abs(Math.abs(h)-Math.abs(f))/o)*e/.0013,o=8*Math.sqrt(Math.abs(e*e*.8))/10,k.movetop<k.starttop&&(n=-n),m+=n):o=.01,m=a(Math.round(parseFloat(m,10)/b)*b,u,v);var x=p;r(p,m,o,function(){var t=c.call(s,x,!1);!1!==t&&d.changeFn&&d.changeFn(t)}),k.lasttop=0,p=null,$(document).off("touchmove",i).off("touchend",this.onEnd)}function c(t,e){var n=$(t).attr("data-top")||0,o=this._options,i=Math.abs(n/b);n>0?i=Math.abs(i-o.overIndex):i+=o.overIndex,i=i<0?0:i;var a=$("li",t)[i],s=$(a).closest("td");if(!1===e){if(s.data("choose")===a)return!1;s.data("choose",a)}return s=s.attr("data-name"),[s,a]}function l(t){var e=$(p).attr("data-top");return e&&"NaN"!=e?parseFloat(e):0}function r(t,e,n,o){var i=t.style,s=a(e,u,v);i[w+"Transition"]="all "+(n?n.toFixed(3):0)+"s ease-out",i[w+"Transform"]="translate3d(0,"+s+"px,0)",function(t){clearTimeout(y),y=setTimeout(function(){$("li",t).removeClass("actives").eq(-s/35+h).addClass("actives"),o&&o()},1e3*(n||0))}($(p).attr("data-top",s))}!function(){var t=document.createElement("style");t.innerHTML='.ui-select{z-index:1002;margin:0 auto;position:fixed;bottom:-260px;left:0;display:none;font-size:14px;font-size:14px;line-height:1.5}.ui-select .ui-select-c{margin:0 auto;width:90%}.ui-select .ui-select-c-top{width:100%}.clearfix:before,.clearfix:after{display:table;content:""}.clearfix:after{clear:both}.ui-select-bg{position:fixed;top:0;left:0;background:#333;opacity:0;display:none;z-index:1001;width:100%;height:100%}.ui-select *,.ui-select-bg{-webkit-user-select:none;-webkit-tap-highlight-color:rgba(255,255,255,0);-webkit-transform:translateZ(0);-webkit-user-drag:none}.ui-select .select-content,.ui-select .ui-select-c>.select-cancel,.ui-select .ui-select-c>.select-ok{background:#fff}.ui-selec2t *{padding:0;margin:0}.ui-select li{list-style:none;height:45px;line-height:45px;text-align:center}.ui-select .ui-select-c>.select-cancel,.ui-select .ui-select-c>.select-ok{margin:10px auto;display:block;text-align:center;height:45px;line-height:45px;width:100%;color:#46d264;border-radius:5px}.select-title-content{background:#0b3c39}.ui-select .ui-select-c .select-title-content h3{background:#0b3c39;color:#fff;margin:auto 50px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.select-title-content .select-ok,.select-title-content .select-cancel{position:absolute;top:50%;left:0;color:#fff;padding:5px 10px;transform:translateY(-50%);-webkit-transform:translateY(-50%);z-index:2}.select-title-content .select-ok{left:auto;right:0}.ui-select .ui-select-c>.select-ok{margin:0;border-radius:0 0 5px 5px}.ui-select .ui-select-c>.select-ok:after{height:1px;content:"";width:100%;border-bottom:1px solid #e1e1e1;position:absolute;top:-1px;right:0;transform:scaleY(.5);-webkit-transform:scaleY(.5)}.ui-select .ui-select-c h3{background:#fff}.ui-select .ui-select-c h3:after{height:1px;content:"";width:100%;background:#e1e1e1;position:absolute;left:0;bottom:0;transform:scaleY(.5);-webkit-transform:scaleY(.5)}.ui-select .select-content{display:block;position:relative;border-radius:0;z-index:20;overflow:hidden}.ui-select .select-collect,.ui-select .ui-select-c h3{border-radius:5px 5px 0 0}.ui-select .select-select,.ui-select .select-content ul{border-radius:0 0 5px 5px;padding-left:0}.ui-select .ui-select-c h3{text-align:center;font-size:16px;height:42px;line-height:42px;color:#333}.ui-select .select-open-con .select-select{border-radius:0 0 5px 5px}.ui-select .select-content ul{width:100%}.ui-select .select-content ul li{width:100%;border-radius:5px;height:35px;line-height:35px}.select-ul{height:105px;overflow:hidden}.select-larger .select-ul{height:175px}.ui-select .select-content p{height:35px;border-color:#ccc;position:absolute;top:50%;left:0;width:100%;border-top:1px solid #ddd;border-bottom:1px solid #ddd;margin-top:-4px;pointer-events:none}.ui-select table{width:100%}.ui-select table li span{display:block;min-width:32px}body .city-select-pro table td{width:100%}body .city-select-city table td{width:50%}.ui-select .select-content ul .actives{font-size:16px}.ui-select .select-ul-mask:after{content:"";position:absolute;z-index:3;top:0;left:0;width:100%;height:100%;pointer-events:none;background:linear-gradient(#fff 0,rgba(245,245,245,0) 52%,rgba(245,245,245,0) 48%,#fff 100%);background:-webkit-gradient(linear,left bottom,left top,from(#fff),color-stop(.52,rgba(245,245,245,0)),color-stop(.48,rgba(245,245,245,0)),to(#fff));background:-webkit-linear-gradient(#fff 0,rgba(245,245,245,0) 52%,rgba(245,245,245,0) 48%,#fff 100%);background:-moz-linear-gradient(#fff 0,rgba(245,245,245,0) 52%,rgba(245,245,245,0) 48%,#fff 100%)}',document.getElementsByTagName("head")[0].appendChild(t)}();var d={mask:!0,width:"100%",larger:!0,title:"选择",okTxt:"确定",className:"",btnPosition:"top",cancelTxt:"取消",changeFn:function(t){},cancelFn:function(){},itemPrintFn:function(t){return'<span data-id="'+t[0]+'">'+t[1]+"</span>"}};t.prototype.init=function(){var t=this,e=t._options;t.eventHand=$.proxy(n,t),t.Onstart=$.proxy(o,t),t.onEnd=$.proxy(s,t),e._container=$(document.body),e._cIsBody=!0,e._mask=e.mask?$('<div class="ui-select-bg"></div>').appendTo(e._container):null,e._isOpen=!1,e.maskClose&&e._mask.on("click",function(){t.close()});var i='<a class="select-cancel" title="'+e.cancelTxt+'">'+e.cancelTxt+"</a>",a='<a class="select-ok" title="'+e.okTxt+'">'+e.okTxt+"</a>",c="<h3>"+e.title+"</h3>",l='<div class="ui-select '+e.className+'"><div class="ui-select-c '+("top"===e.btnPosition?"ui-select-c-top":"")+'">'+("top"!==e.btnPosition?c:'<div class="select-title-content">'+i+c+a+"</div>")+'<div class="select-content clearfix"><table '+(e.larger?'class="select-larger"':"")+"></table><p></p></div>"+("top"!==e.btnPosition?a+i:"")+"</div></div>";e._wrap=$(l).appendTo(e._container),e.table=$("table",e._wrap),e.overIndex=h=e.larger?2:1,t.create(e.data),e._wrap.css({width:e.width,height:"auto"}),$(".select-cancel",e._wrap).on("click",function(){t.close()}),$(".select-ok",e._wrap).on("click",function(){if(e.selectFn){var n=[];$("table td ul",e._wrap).each(function(){n.push(t.getVal(this))}),!1!==e.selectFn(n)&&t.close()}else t.close()}),$(".select-content li",e._wrap).on("click",function(t){}),e._mask.on("click",function(){e.maskClickClose&&t.close()}),e._wrap.on("click",t.eventHand)},t.prototype.title=function(t){var e=$(".ui-select-c>h3",this._options._wrap);return t&&e.html(t),e},t.prototype.create=function(t){var n=this,o=n._options;if(t&&t.length>0){for(var i="<tr>",a=0;a<t.length;a++)i+=e.call(n,t[a],o.itemPrintFn);i+="</tr>";var s=$(i).appendTo(o.table);$(".select-ul ul",s).on("touchstart",function(t){n.Onstart(this,t)}).each(function(){n.updateIndex(this,$(this).attr("data-index"))})}},t.prototype.getVal=function(t){var e=this._options,n="string"==typeof t?$('td[data-name="'+t+'"] ul',e.table):t;return c.call(this,n)},t.prototype.updateIndex=function(t,e){var n=this._options,o="string"==typeof t?$('td[data-name="'+t+'"] ul'):$(t),i=$('li[data-id="'+e+'"]',o),a=i.index(),s=(n.overIndex-a)*b;if(!i[0]){var c=o.attr("data-top");return c=c?-c/35+n.overIndex:n.overIndex,void $("li",o).removeClass("actives").eq(c).addClass("actives")}o[0].style[w+"Transition"]="all 0s ease-out",o[0].style[w+"Transform"]="translate3d(0,"+s+"px,0)",o.attr("data-top",s),$("li",o).removeClass("actives").eq(-s/35+n.overIndex).addClass("actives")},t.prototype.updateSelect=function(t){var n=this,o=n._options;if(t.name){var i=$('td[data-name="'+t.name+'"]',o.table);if(i[0]){var a=$(e.call(n,t,o.itemPrintFn));i.replaceWith(a),$(".select-ul ul",a).on("touchstart",function(t){n.Onstart(this,t)}),n.updateIndex($("ul",a),t.index)}}};var p,u,h,f,m,g,v=0,b=35,x=0,k={},w="",_=document.createElement("div");$.each(["webkit","Moz","O","ms"],function(t,e){if(void 0!==_.style[e+"Transform"])return w=e,!1});var y;t.prototype.calculate=function(){var t,e=this._options,n=($(window),document.body),o={},i=e._cIsBody,a=Math.round;return e.mask&&(o.mask=i?{width:"100%",height:Math.max(n.scrollHeight,n.clientHeight)-1}:{width:"100%",height:"100%"}),t=e._wrap.offset(),o.wrap={left:"50%",marginLeft:-a(t.width/2)+"px"},o},t.prototype.refresh=function(){var t,e,n=this,o=n._options;return o._isOpenRefresh||(e=function(){(t=n.calculate()).mask&&o._mask.css(t.mask),o._wrap.css(t.wrap)},$.os&&$.os.ios&&document.activeElement&&/input|textarea|select/i.test(document.activeElement.tagName)?(document.body.scrollLeft=0,setTimeout(e,200)):e()),n},t.prototype.open=function(){var t=this._options,e=this;t._wrap.css("display","block"),t._mask&&t._mask.css("display","block"),t._isOpenRefresh=!1,e.refresh(),t._mask.animate({opacity:.8},300),t._wrap.animate({bottom:0},300,function(){t._isOpen=!0}),$(window).on("orientationchange touchmove click",e.eventHand)},t.prototype.close=function(t){var e=this._options;if(!1===e._isOpen)return this;if(!e.cancelFn||!1!==e.cancelFn())return e._mask.animate({opacity:0},200),e._wrap.animate({bottom:-260},200,function(){e._wrap.css("display","none"),e._mask&&e._mask.css("display","none"),e._isOpen=!1,e._isOpenRefresh=!1,t&&t()}),$(window).off("orientationchange touchmove click",this.eventHand),this},t.prototype.destroy=function(){var t=this._options,e=this.eventHand;$(window).off("orientationchange",e),$(document).off("touchmove",e),t._wrap.off("click",e).remove(),t._mask&&t._mask.off("click",e).remove()},$.select=function(e){return new t(e)}});